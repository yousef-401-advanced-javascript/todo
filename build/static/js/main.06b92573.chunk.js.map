{"version":3,"sources":["hooks/useForm.js","components/todo/form.js","context/context.js","context/auth.js","components/show/index.js","components/auth/index.js","components/todo/list.js","components/todo/site.js","components/todo/pagination.js","hooks/useAjax.js","components/todo/todo-connected.js","components/login/index.js","components/signup/index.js","app.js","index.js"],"names":["useForm","props","useState","item","itemState","e","target","name","value","preventDefault","reset","handleSubmit","type","TodoForm","handleInputChange","Form","role","onSubmit","Label","Control","placeholder","onChange","defaultValue","min","max","Button","className","SettingsContext","React","createContext","SettingsProvider","display","setDisplay","next","setNext","prev","setPrev","sortType","setSort","itemsPerPage","setItemsPerPage","numbersOfPages","setNumberOfPages","currentPage","setCurrentPage","state","changeDisplay","changeItemsPerPage","changeNumberOfPages","changeCurrentPage","changeSortType","toggleMode","Provider","children","dotenv","config","API","process","API_SERVER","LoginContext","JWT_SECRET","LoginProvider","signup","username","password","email","a","fetch","method","mode","cache","headers","body","JSON","stringify","results","json","res","validateToken","token","console","log","login","Headers","btoa","logout","setLoginState","user","jwt","verify","ex","loggedIn","cookie","save","setState","sigup","load","this","Component","Show","condition","Auth","okToRender","context","capability","capabilities","includes","warn","contextType","styles","true","false","TodoList","useContext","indexOfLastItemInThePage","indexOfFirstItemInThePage","currentItemsShown","list","slice","ListGroup","map","complete","toString","key","_id","style","undefined","Item","onClick","handleComplete","text","assignee","difficulty","due","variant","size","deleteHandler1","SettingsEditor","Pagination1","pagination","pageNumbers","paginate","pageNumber","i","Math","ceil","length","push","Pagination","aria-label","number","useAjax","todoAPI","setList","Date","toLocaleString","then","response","savedItem","catch","error","id","filter","url","listItem","data","deletedItem","ToDo","_addItem","_toggleComplete","_getTodoItems","deleteHandler","useEffect","Login","handleChange","SignUP","App","Main","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.06b92573.chunk.js","sourcesContent":["import { useState } from 'react';\n\n\nconst useForm = (props) => {\n  let [item ,itemState] = useState({});\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    e.target.reset();\n    props.handleSubmit(item);\n    itemState({ type: 'reset' });\n  };\n  const handleInputChange = (e) => {\n    itemState({...item, [e.target.name]: e.target.value } );\n    // console.log(item)\n  };\n  return [ handleInputChange, handleSubmit];\n};\n\nexport default useForm;","import React, { useState } from 'react';\nimport useForm from '../../hooks/useForm';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\n\n\nfunction TodoForm(props) {\n  const [handleInputChange, handleSubmit] = useForm(props);\n  // function handleForm(){\n  //   //this is from the todo-connected file \n  //   props.handleSubmit(item);\n  // }\n\n  return (\n    <>\n      <h3>Add Item</h3>\n      {/* <form onSubmit={handleSubmit}> */}\n      <Form role=\"form\" onSubmit={handleSubmit}>\n        <Form.Label>\n          <span>To Do Item</span>\n          <Form.Control\n            name=\"text\"\n            placeholder=\"Add To Do List Item\"\n            onChange={handleInputChange}\n          />\n        </Form.Label>\n        <Form.Label>\n          <span>Difficulty Rating</span>\n          <Form.Control defaultValue=\"1\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange} />\n        </Form.Label>\n        <Form.Label>\n          <span>Assigned To</span>\n          <Form.Control type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleInputChange} />\n        </Form.Label>\n        <Button className=\"btn btn-primary btn-large centerButton\" type=\"submit\">Add Item</Button>\n      </Form>\n      {/* </form> */}\n\n    </>\n  );\n}\n\nexport default TodoForm;\n\n\n////////////////////////////////////////////////////from previuos labs\n// let [item ,itemState] = useState({});\n// const handleInputChange = e => {\n//   // const [allItem ,allItemState] = useState({});\n//   // console.log('e.target.value',e.target.value);\n//   // console.log('item',item);\n//   // console.log('e.target.name',e.target.name);\n//   // itemState([...allItem,item]);\n//   //////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n//   //to do input \n//   //its used to change the state and adding  new key(assignee) with value of (Assigned To Input) OR key difficulty with value of the scale range input\n//   itemState({...item, [e.target.name]: e.target.value } );\n//   /*\n//   * rally good implementing\n//   (copying the item object and if the kye is not there it will\n//   add it with the value but if key is there just change it with the new one)    \n//   */\n// };\n\n// const handleSubmit = (e) => {\n//   e.preventDefault();\n//   e.target.reset();\n//   props.handleSubmit(item);\n//   itemState({ type: 'reset' });\n// };\n","import React, { useState } from 'react';\n\nexport const SettingsContext = React.createContext();\n\nfunction SettingsProvider(props){\n  const [display, setDisplay] = useState(true);\n\n  const [next, setNext] = useState(2);\n  const [prev, setPrev] = useState(1);\n\n  const [sortType, setSort] = useState('difficulty');\n  const [itemsPerPage, setItemsPerPage] = useState(3);\n  const [numbersOfPages, setNumberOfPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const state = {\n    display,\n    itemsPerPage,\n    numbersOfPages,\n    currentPage,\n    sortType,\n    next,\n    prev,\n    setNext:setNext,\n    setPrev:setPrev,\n    changeDisplay:setDisplay,\n    changeItemsPerPage: setItemsPerPage,\n    changeNumberOfPages: setNumberOfPages,\n    changeCurrentPage: setCurrentPage,\n    changeSortType:setSort,\n    \n    toggleMode: changeMode,\n  };\n  function changeMode(){\n    setDisplay(!state.display);\n  }\n  return(\n    <SettingsContext.Provider value={state}>\n      {props.children}\n    </SettingsContext.Provider>\n  );\n}\nexport default SettingsProvider;\n\n\n","import React ,{useState} from 'react';\nimport cookie from 'react-cookies';\nimport jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n// import superagent from 'superagent';\ndotenv.config();\n\nconst API = process.env.API_SERVER  || 'https://lab3232.herokuapp.com' ||'https://auth-server-401.herokuapp.com';\nconst SECRET = process.env.JWT_SECRET ||'mysecret' || 'supersecret' || 'yousef';\n\nexport const LoginContext = React.createContext();\n\n\nclass LoginProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      login: this.login,\n      logout: this.logout,\n      sigup: this.signup,\n      user: {},\n    };\n  }\n\n  signup = async (username, password, email, role) => {\n      \n    try {\n      const results = await fetch(`${API}/signup`, {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body:JSON.stringify({ username, password, email, role }),\n      });\n      let res = await results.json();\n      this.validateToken(res.token);\n    } catch (ex) {\n      console.log('ERROR SIGNUP');\n          \n    }\n  }\n\n\n  login = async (username, password) => {\n\n    try {\n      const results = await fetch(`${API}/signin`, {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: new Headers({\n          'Authorization': `Basic ${btoa(`${username}:${password}`)}`,\n        }),\n      });\n      let res = await results.json();\n      this.validateToken(res.token);\n    } catch (ex) {\n      console.log('ERROR SIGNIN');\n\n    }\n  }\n\n  logout = () => {\n    this.setLoginState(false, null, {});\n  }\n\n  validateToken = token => {\n\n    try {\n      let user = jwt.verify(token, 'yousef');\n      this.setLoginState(true, token, user);\n\n    } catch (ex) {\n      this.logout();\n      console.log('token Validation error');\n    }\n  }\n\n  setLoginState = (loggedIn, token, user) => {\n    cookie.save('auth', token);\n    this.setState({ loggedIn, user, token });\n  }\n\n  componentDidMount() {\n    const cookieToken = cookie.load('auth');\n    const token = cookieToken || null;\n    this.validateToken(token);\n  }\n\n  render() {\n    return (\n      <LoginContext.Provider value={this.state}>\n        {this.props.children}\n      </LoginContext.Provider>\n    );\n  }\n}\n\nexport default LoginProvider;","const Show = (props) => (props.condition ? props.children : null);\nexport default Show;","import React, {useContext} from 'react';\nimport { LoginContext } from '../../context/auth';\nimport Show from '../show/';\n// helper component for ACL\nclass Auth extends React.Component {\n\n  static contextType = LoginContext;\n\n  render() {\n    let okToRender = false;\n\n    try {\n      okToRender = this.context.loggedIn && (\n        this.props.capability ?\n          this.context.user.capabilities.includes(this.props.capability)\n          : true\n      );\n    } catch (e) {\n      console.warn('Not Authorized!');\n    }\n\n    return (\n      <Show condition={okToRender}>\n        {this.props.children}\n      </Show>\n    );\n  }\n}\n\nexport default Auth;","import React, { useContext } from 'react';\nimport { SettingsContext } from '../../context/context';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\n\nimport Auth from '../auth/';\n\nconst styles = {\n  true: {\n    display: 'block',\n  },\n  false: {\n    display: 'none',\n  },\n};\n\nfunction TodoList(props) {\n  const context = useContext(SettingsContext);\n\n  //these for the pagination\n  const indexOfLastItemInThePage = context.currentPage * context.itemsPerPage;\n  const indexOfFirstItemInThePage = indexOfLastItemInThePage - context.itemsPerPage;\n  const currentItemsShown = props.list.slice(indexOfFirstItemInThePage, indexOfLastItemInThePage);\n  //   <ListGroup>\n  //   <ListGroup.Item disabled>Cras justo odio</ListGroup.Item>\n  //   <ListGroup.Item>Dapibus ac facilisis in</ListGroup.Item>\n  //   <ListGroup.Item>Morbi leo risus</ListGroup.Item>\n  //   <ListGroup.Item>Porta ac consectetur ac</ListGroup.Item>\n  // </ListGroup>\n\n  return (\n\n    <ListGroup>\n      {currentItemsShown.map(item => (\n        // console.log(item),\n        <ListGroup\n          className={`complete-${item.complete.toString()}`} key={item._id} style={item.complete !== context.display ? styles[context.display] : undefined}>\n\n          <ListGroup.Item onClick={() => props.handleComplete(item._id)}>ToDo title: {item.text}\n            <ListGroup.Item> the assignee : {item.assignee}   </ListGroup.Item>\n            <ListGroup.Item> The difficulty : {item.difficulty}   </ListGroup.Item>\n            <ListGroup.Item>Added at {item.due}   </ListGroup.Item>\n          </ListGroup.Item>\n\n          <Auth capability=\"delete\">\n            <Button variant=\"primary\" size=\"sm\" onClick={() => props.deleteHandler1(item._id)}>Delete</Button>\n]         </Auth>\n\n\n\n        </ListGroup>\n      ))}\n    </ListGroup>\n  );\n}\n\nexport default TodoList;\n","import React, { useContext } from 'react';\nimport { SettingsContext } from '../../context/context';\n\nexport default function SettingsEditor(props){\n  const context = useContext(SettingsContext);\n\n  \n  return(\n    <>\n      <h3>completed display</h3>\n      <button className={context.display.toString()} onClick={context.toggleMode}>{context.display?'don\\'t show completed':'show completed'}</button>\n    </>\n  );\n}","import React, {useContext} from 'react';\nimport { SettingsContext } from '../../context/context';\nimport Pagination from 'react-bootstrap/Pagination';\nimport ButtonToolbar from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\n\n\n\nexport default function Pagination1(props){\n  const style = {\n    pagination:{\n      display:'inline-block',\n    },\n  };\n  const pageNumbers = [];\n  const context = useContext(SettingsContext);\n  const paginate = pageNumber => context.changeCurrentPage(pageNumber);\n\n  for (let i = 1; i <= Math.ceil(props.list.length / context.itemsPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  const checkout= ()=>{\n    if(context.prev === 1 ){\n      context.setPrev(2);\n      context.setNext(3);\n    }\n  };\n  return (\n    <>\n      <nav>\n        <Pagination aria-label=\"Toolbar with button groups\">\n       \n          {pageNumbers.map(number => (\n            <Pagination.Item key={number}   onClick={() => paginate(number)}>\n              <Button onClick={() => paginate(number)} style={style['pagination']}>\n                {number}\n              </Button>\n            </Pagination.Item>\n          ))}\n       \n        </Pagination>\n      </nav>\n    </>\n  );\n\n}\n","import  { useState } from 'react';\n\n\nfunction useAjax( ){\n  const todoAPI = 'https://lab3232.herokuapp.com/todo';\n\n  const [list, setList] = useState([]);\n\n  // const editHandler = (item)\n\n  const _addItem = (item) => {\n    item.due = new Date().toLocaleString();\n    // console.log(item);\n    fetch(todoAPI, {\n      method: 'post',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    })\n      .then(response => response.json())\n      .then(savedItem => {\n        setList([...list, savedItem]);\n      })\n      .catch(console.error);\n    console.log('add', list);\n  };\n\n  const _toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n\n      item.complete = !item.complete;\n\n      let url = `${todoAPI}`;//there is /id  but i delete it\n      fetch(url, {\n        method: 'put',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: { 'Content-Type': 'application/json' ,'bo':id},\n        body: JSON.stringify(item),\n      })\n        .then(response => response.json())\n        .then(savedItem => {\n          setList(list.map(listItem => listItem._id === item._id ? savedItem : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n  const deleteHandler = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    \n    \n    let url = `${todoAPI}`;//there is /id  but i delete it\n    fetch(url, {\n      method: 'delete',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' ,'bo':id},\n      body:item?JSON.stringify(item):undefined,\n    })\n      .then(response => response.json())\n      .then(deletedItem => {\n        setList(list.filter(i => i._id !== id));\n     \n      })\n      .catch(console.error);\n  };\n\n  const _getTodoItems = () => {\n    fetch(todoAPI, {\n      method: 'get',\n      mode: 'cors',\n    })\n      .then(data => data.json())\n      .then(data => setList(data))\n      .catch(console.error);\n  };\n  return [list , _addItem , _toggleComplete , _getTodoItems, deleteHandler];\n}\n\nexport default useAjax;\n","import React, { useEffect } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport SiteEditor from './site';\nimport Pagination from './pagination';\n\n\nimport Auth from '../auth/';\n\n\n\nimport useAjax from '../../hooks/useAjax';\n\n\nimport './todo.scss';\n\n// const todoAPI = 'https://lab3232.herokuapp.com/todo';\nconst ToDo = () => {\n  const [list, _addItem, _toggleComplete, _getTodoItems, deleteHandler] = useAjax();\n  useEffect(_getTodoItems, []);\n  console.log('list', list);\n  return (\n\n    <>\n      <SiteEditor />\n\n\n      <header>\n        <h2>\n          There are {list.filter(item => !item.complete).length};\n          Items To Complete\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <Auth capability=\"update\">\n          <div>\n            <TodoForm handleSubmit={_addItem} />\n          </div>\n        </Auth>\n\n\n        <div>\n          <TodoList\n            list={list}\n            handleComplete={_toggleComplete}\n            deleteHandler1={deleteHandler}\n          />\n          <Pagination list={list} />\n        </div>\n\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import React  from 'react';\nimport { LoginContext } from '../../context/auth';\nimport Show from '../show/';\n\nclass Login extends React.Component {\n\n  static contextType = LoginContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.context.login(this.state.username, this.state.password);\n  }\n\n  render() {\n    return (\n      <>\n        <Show condition={this.context.loggedIn}>\n          <button onClick={this.context.logout}>Logout</button>\n        </Show>\n        <Show condition={!this.context.loggedIn}>\n          <form onSubmit={this.handleSubmit} >\n            <input\n              placeholder=\"userName\"\n              name=\"username\"\n              onChange={this.handleChange}\n            />\n            <input\n              placeholder=\"password\"\n              name=\"password\"\n              onChange={this.handleChange}\n            />\n            <button>Login</button>\n          </form>\n        </Show>\n      </>\n    );\n  }\n\n}\n\nexport default Login;","import React  from 'react';\nimport { LoginContext } from '../../context/auth';\nimport Show from '../show/';\n\n\nclass SignUP extends React.Component {\n\n    static contextType = LoginContext;\n  \n    constructor(props) {\n      super(props);\n      this.state = {\n        username: '',\n        password: '',\n        email: '',\n        role: '',\n      };\n    }\n  \n    handleChange = e => {\n      this.setState({ [e.target.name]: e.target.value });\n    }\n  \n    handleSubmit = e => {\n      e.preventDefault();\n      this.context.sigup(this.state.username, this.state.password, this.state.email, this.state.role);\n    }\n  \n    render() {\n      return (\n        <>\n          <Show condition={!this.context.loggedIn}>\n            <form onSubmit={this.handleSubmit} >\n              <input\n                placeholder=\"userName\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n  \n              <input\n                placeholder=\"email\"\n                name=\"email\"\n                onChange={this.handleChange}\n              />\n  \n              <input\n                placeholder=\"role\"\n                name=\"role\"\n                onChange={this.handleChange}\n              />\n  \n              <button>SignUP</button>\n            </form>\n          </Show>\n        </>\n      );\n    }\n  \n}\n  \nexport default SignUP;","import React from 'react';\n\n// import ToDo from './components/todo/todo.js';\nimport ToDo from './components/todo/todo-connected.js';\nimport SettingsProvider from './context/context';\n\nimport Auth from './components/auth/';\nimport Login from './components/login/';\nimport SignUp from './components/signup/';\n\nimport LoginProvider from './context/auth';\n// const EditLink = (props) => {\n//   return (\n//     <Auth capability=\"update\">\n//       <span>Edit</span>\n//     </Auth>\n//   );\n// };\n// const DeleteLink = (props) => {\n//   return (\n//     <Auth capability=\"delete\">\n//       <span>Delete</span>\n//     </Auth>\n//   );\n// };\n\nconst App = () => {\n  return (\n    <LoginProvider>\n      <Login />\n      <SignUp />\n      <Auth capability=\"read\" >\n\n        <SettingsProvider>\n\n          <ToDo />\n\n        </SettingsProvider>\n      </Auth >\n    </LoginProvider>\n\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}