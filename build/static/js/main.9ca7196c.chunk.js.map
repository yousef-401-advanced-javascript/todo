{"version":3,"sources":["hooks/useForm.js","components/todo/form.js","context/context.js","components/todo/list.js","components/todo/site.js","components/todo/pagination.js","hooks/useAjax.js","components/todo/todo-connected.js","context/auth.js","components/show/index.js","components/auth/index.js","components/login/index.js","app.js","index.js"],"names":["useForm","props","useState","item","itemState","e","target","name","value","preventDefault","reset","handleSubmit","type","TodoForm","handleInputChange","onSubmit","placeholder","onChange","defaultValue","min","max","SettingsContext","React","createContext","SettingsProvider","display","setDisplay","sortType","setSort","itemsPerPage","setItemsPerPage","numbersOfPages","setNumberOfPages","currentPage","setCurrentPage","state","changeDisplay","changeItemsPerPage","changeNumberOfPages","changeCurrentPage","changeSortType","toggleMode","Provider","children","styles","true","false","TodoList","context","useContext","indexOfLastItemInThePage","indexOfFirstItemInThePage","currentItemsShown","list","slice","map","className","complete","toString","key","_id","style","undefined","onClick","handleComplete","text","assignee","deleteHandler1","SettingsEditor","Pagination","pagination","pageNumbers","i","Math","ceil","length","push","number","pageNumber","useAjax","todoAPI","setList","due","Date","fetch","method","mode","cache","headers","body","JSON","stringify","then","response","json","savedItem","catch","console","error","log","id","filter","url","listItem","data","deletedItem","ToDo","_addItem","_toggleComplete","_getTodoItems","deleteHandler","useEffect","dotenv","config","API","process","API_SERVER","SECRET","JWT_SECRET","LoginContext","LoginProvider","loggedIn","setLoggedIn","username","password","superagent","post","set","btoa","results","token","user","jwt","verify","setLoginState","message","validateToken","logIn","setLogIn","setUser","logOut","setLogOut","cookie","save","Show","condition","Auth","okToRender","capability","capabilities","includes","Login","setUserName","setPassword","EditLink","DeleteLink","App","Main","Component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.9ca7196c.chunk.js","sourcesContent":["import { useState } from 'react';\n\n\nconst useForm = (props) => {\n  let [item ,itemState] = useState({});\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    e.target.reset();\n    props.handleSubmit(item);\n    itemState({ type: 'reset' });\n  };\n  const handleInputChange = (e) => {\n    itemState({...item, [e.target.name]: e.target.value } );\n    // console.log(item)\n  };\n  return [ handleInputChange, handleSubmit];\n};\n\nexport default useForm;","import React, {useState } from 'react';\nimport useForm from '../../hooks/useForm';\n\nfunction TodoForm (props) {\n  const [handleInputChange, handleSubmit] = useForm(props);\n  // function handleForm(){\n  //   //this is from the todo-connected file \n  //   props.handleSubmit(item);\n  // }\n    \n  return (\n    <>\n      <h3>Add Item</h3>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>To Do Item</span>\n          <input\n            name=\"text\"\n            placeholder=\"Add To Do List Item\"\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          <span>Difficulty Rating</span>\n          <input defaultValue=\"1\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange} />\n        </label>\n        <label>\n          <span>Assigned To</span>\n          <input type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleInputChange} />\n        </label>\n        <button>Add Item</button>\n      </form>\n    </>\n  );\n}\n    \nexport default TodoForm;\n\n\n////////////////////////////////////////////////////from previuos labs\n// let [item ,itemState] = useState({});\n// const handleInputChange = e => {\n//   // const [allItem ,allItemState] = useState({});\n//   // console.log('e.target.value',e.target.value);\n//   // console.log('item',item);\n//   // console.log('e.target.name',e.target.name);\n//   // itemState([...allItem,item]);\n//   //////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n//   //to do input \n//   //its used to change the state and adding  new key(assignee) with value of (Assigned To Input) OR key difficulty with value of the scale range input\n//   itemState({...item, [e.target.name]: e.target.value } );\n//   /*\n//   * rally good implementing\n//   (copying the item object and if the kye is not there it will\n//   add it with the value but if key is there just change it with the new one)    \n//   */\n// };\n\n// const handleSubmit = (e) => {\n//   e.preventDefault();\n//   e.target.reset();\n//   props.handleSubmit(item);\n//   itemState({ type: 'reset' });\n// };\n","import React, { useState } from 'react';\n\nexport const SettingsContext = React.createContext();\n\nfunction SettingsProvider(props){\n  const [display, setDisplay] = useState(true);\n  // const [numItems, setNum] = useState(2);\n  const [sortType, setSort] = useState('difficulty');\n  const [itemsPerPage, setItemsPerPage] = useState(3);\n  const [numbersOfPages, setNumberOfPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const state = {\n    display,\n    itemsPerPage,\n    numbersOfPages,\n    currentPage,\n    sortType,\n    changeDisplay:setDisplay,\n    changeItemsPerPage: setItemsPerPage,\n    changeNumberOfPages: setNumberOfPages,\n    changeCurrentPage: setCurrentPage,\n    changeSortType:setSort,\n    \n    toggleMode: changeMode,\n  };\n  function changeMode(){\n    setDisplay(!state.display);\n  }\n  return(\n    <SettingsContext.Provider value={state}>\n      {props.children}\n    </SettingsContext.Provider>\n  );\n}\nexport default SettingsProvider;\n\n\n","import React,{useContext} from 'react';\nimport { SettingsContext } from '../../context/context';\n\nconst styles = {\n  true: {\n    display: 'block',\n  },\n  false: {\n    display: 'none',\n  },\n};\n\nfunction TodoList (props) {\n  const context = useContext( SettingsContext );\n\n  //these for the pagination\n  const indexOfLastItemInThePage = context.currentPage * context.itemsPerPage;\n  const indexOfFirstItemInThePage = indexOfLastItemInThePage - context.itemsPerPage;\n  const currentItemsShown = props.list.slice(indexOfFirstItemInThePage, indexOfLastItemInThePage);\n  \n  return (\n    \n    <ul>\n      {currentItemsShown.map(item => (\n        // console.log(item),\n        <li \n          className={`complete-${item.complete.toString()}`}key={item._id}  style={item.complete !==context.display? styles[context.display]:undefined}>\n\n          <span onClick={() => props.handleComplete(item._id)}> {item.text}  <span> {item.assignee}   </span> </span>\n\n          <button onClick={() =>props.deleteHandler1(item._id)}>Delete</button>\n\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default TodoList;\n","import React, { useContext } from 'react';\nimport { SettingsContext } from '../../context/context';\n\nexport default function SettingsEditor(props){\n  const context = useContext(SettingsContext);\n\n  \n  return(\n    <>\n      <h3>completed display</h3>\n      <button className={context.display.toString()} onClick={context.toggleMode}>{context.display?'don\\'t show completed':'show completed'}</button>\n    </>\n  );\n}","import React, {useContext} from 'react';\nimport { SettingsContext } from '../../context/context';\n\n\nexport default function Pagination(props){\n  const style = {\n    pagination:{\n      display:'inline-block',\n    },\n  };\n  const pageNumbers = [];\n  const context = useContext(SettingsContext);\n  const paginate = pageNumber => context.changeCurrentPage(pageNumber);\n\n  for (let i = 1; i <= Math.ceil(props.list.length / context.itemsPerPage); i++) {\n    pageNumbers.push(i);\n  }\n  return (\n    <>\n      <nav>\n        <ul >\n          {pageNumbers.map(number => (\n            <li key={number} >\n              <button onClick={() => paginate(number)} style={style['pagination']}>\n                {number}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </>\n  );\n\n}\n","import  { useState } from 'react';\n\n\nfunction useAjax( ){\n  const todoAPI = 'https://lab3232.herokuapp.com/todo';\n\n  const [list, setList] = useState([]);\n\n  const _addItem = (item) => {\n    item.due = new Date();\n    fetch(todoAPI, {\n      method: 'post',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    })\n      .then(response => response.json())\n      .then(savedItem => {\n        setList([...list, savedItem]);\n      })\n      .catch(console.error);\n    console.log('add', list);\n  };\n\n  const _toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n\n      item.complete = !item.complete;\n\n      let url = `${todoAPI}`;//there is /id  but i delete it\n      fetch(url, {\n        method: 'put',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: { 'Content-Type': 'application/json' ,'bo':id},\n        body: JSON.stringify(item),\n      })\n        .then(response => response.json())\n        .then(savedItem => {\n          setList(list.map(listItem => listItem._id === item._id ? savedItem : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n  const deleteHandler = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    \n    \n    let url = `${todoAPI}`;//there is /id  but i delete it\n    fetch(url, {\n      method: 'delete',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' ,'bo':id},\n      body:item?JSON.stringify(item):undefined,\n    })\n      .then(response => response.json())\n      .then(deletedItem => {\n        setList(list.filter(i => i._id !== id));\n     \n      })\n      .catch(console.error);\n  };\n\n  const _getTodoItems = () => {\n    fetch(todoAPI, {\n      method: 'get',\n      mode: 'cors',\n    })\n      .then(data => data.json())\n      .then(data => setList(data))\n      .catch(console.error);\n  };\n  return [list , _addItem , _toggleComplete , _getTodoItems, deleteHandler];\n}\n\nexport default useAjax;\n","import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport SiteEditor from './site';\nimport Pagination from './pagination';\n\n\n\nimport useAjax from '../../hooks/useAjax';\n\n\nimport './todo.scss';\n\n// const todoAPI = 'https://lab3232.herokuapp.com/todo';\nconst ToDo = () => {\n  const [list, _addItem, _toggleComplete, _getTodoItems, deleteHandler] = useAjax();\n  useEffect(_getTodoItems, []);\n\n  return (\n\n    <>\n      <SiteEditor/>\n\n      \n      <header>\n        <h2>\n          There are {list.filter(item => !item.complete).length};\n          Items To Complete\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <TodoForm handleSubmit={_addItem} />\n        </div>\n\n        <div>\n          <TodoList\n            list={list}\n            handleComplete={_toggleComplete}\n            deleteHandler1={deleteHandler}\n          />\n          <Pagination list={list}/>\n        </div>\n\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import React ,{useState, useEffect} from 'react';\nimport cookie from 'react-cookies';\nimport jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\nimport superagent from 'superagent';\ndotenv.config();\n\nconst API = process.env.API_SERVER  || 'https://auth-server-401.herokuapp.com';\nconst SECRET = process.env.JWT_SECRET ||'mysecret' || 'supersecret';\n\nexport const LoginContext = React.createContext();\n\n\nexport default function LoginProvider(props){\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [logIn, setLogIn] = useState(login);\n  const [user, setUser] = useState({});\n  const [logOut, setLogOut] = useState(logout);\n  console.log('user',user);\n  const state = {\n    loggedIn,\n    logIn,\n    logOut,\n    user,\n    setLoggedIn:setLoggedIn,\n    setLogIn:setLogIn,\n    setLogOut:setLogOut,\n    setUser:setUser,\n  };\n\n  function setLoginState(loggedIn, token, user){\n    cookie.save('auth', token);\n    setLoggedIn(loggedIn);\n    setLogIn(token);\n    setUser(user);\n  }\n  function validateToken(token){\n    try{\n      const user = jwt.verify(token, SECRET);\n      console.log('VERIFIED', user);\n      setLoginState(true, token, user);\n    }catch(e){\n      setLoginState(false, null, {});\n      console.log('Token validation Error', e.message);\n\n    }\n  }\n  function login(username, password){\n    superagent\n      .post(`${API}/signin`)\n      .set('authorization', `Basic ${btoa(`${username}:${password}`)}`)\n      .then(results=>{\n        validateToken(results.body.token);\n      }).catch(console.error);\n  }\n  function logout(){\n    setLoginState(false, null, {});\n  }\n//   useEffect(()=>{\n//     const token = cookie.load('auth');\n//     validateToken(token);\n//   },[]);\n  return(\n    <LoginContext.Provider value={state}>\n      {props.children}\n    </LoginContext.Provider>\n  );\n\n\n}\n// export default LoginProvider;","const Show = (props) => (props.condition ? props.children : null);\nexport default Show;","import React, {useContext} from 'react';\nimport { LoginContext } from '../../context/auth';\nimport Show from '../show/';\n// helper component for ACL\nfunction Auth (props){\n  \n  const context = useContext(LoginContext);\n\n  let okToRender = false;\n  try {\n    okToRender =\n        context.loggedIn && props.capability\n          ? context.user.capabilities.includes(props.capability)\n          : false;\n  } catch (e) {\n    console.log('NOT AUTHORIZED', e.message);\n  }\n  return <Show condition={okToRender}>{props.children}</Show>;\n  \n}\nexport default Auth;","import React ,{useState, useContext} from 'react';\nimport { LoginContext } from '../../context/auth';\nimport Show from '../show/';\n\nexport default function Login (props){\n\n  const context = useContext(LoginContext);\n\n  const [username, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleChangeUserName (e) {\n    setUserName({ [e.target.name]: e.target.value });\n  };\n  function handleChangePassword  (e) {\n    setPassword({ [e.target.name]: e.target.value });\n\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    context.setLogIn(username, password);\n  };\n\n  return(\n    <>\n      <Show condition={context.loggedIn}>\n        <button onClick={context.logOut}> Log Out</button>\n      </Show>\n      <Show condition={!context.loggedIn}>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Enter Username\"\n            onChange={handleChangeUserName}\n          />\n          <input\n            type=\"text\"\n            name=\"password\"\n            placeholder=\"Enter Password\"\n            onChange={handleChangePassword}\n          />\n          <button>Login</button>\n        </form>\n      </Show>\n    </>\n  );\n\n}","import React from 'react';\n\n// import ToDo from './components/todo/todo.js';\nimport ToDo from './components/todo/todo-connected.js';\nimport SettingsProvider from './context/context';\nimport Auth from './components/auth/';\nimport Login from './components/login/';\nimport LoginProvider from './context/auth';\nconst EditLink = (props) => {\n  return (\n    <Auth capability=\"update\">\n      <span>Edit</span>\n    </Auth>\n  );\n};\nconst DeleteLink = (props) => {\n  return (\n    <Auth capability=\"delete\">\n      <span>Delete</span>\n    </Auth>\n  );\n};\n\nconst App = () => {\n  return (\n    <SettingsProvider>\n      <LoginProvider>\n        <Login />\n        <EditLink />\n        <DeleteLink />\n        <ToDo />\n      </LoginProvider>\n\n    </SettingsProvider>\n\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}